## Settings 

# Mod1 = alt
set $mod Mod4
mouse_warping output

# window naming
set $FOC client.focused
set $UNF client.unfocused
set $URG client.urgent
set $FIN client.focused_inactive

# colors from xresources
set_from_resource $red color9

# custom color
set $whi "#fcfefb"
set $bgb "#0d2028"

# window colors
$FOC	$whi $whi $whi $whi $whi
$URG	$red $red $red $red $red
$UNF	$bgb $bgb $whi $bgb $bgb
$FIN	$bgb $bgb $whi $bgb $bgb

# execs/paths
set $xdo $HOME/code/xdotool
set $cbp $HOME/code/bash
set $exe exec
set $shx exec --no-startup-id sh
set $nsi exec --no-startup-id
set $exa exec_always --no-startup-id

# windows
set $fwin for_window

# bindings
set $bsym bindsym 
set $bcod bindcode 
set $codr bindcode --release

# workspaces
set $ws1 1
set $ws2 2
set $ws3 3
set $ws4 4
set $ws5 5
set $ws6 6
set $ws7 7
set $ws8 8
set $ws9 9

workspace $ws1 output DVI-D-1
workspace $ws2 output DVI-I-0
workspace $ws3 output DVI-D-1

## End Settings

## Startup

# bar
$exa $HOME/.config/polybar/launch.sh

# compton
$exa compton --config $HOME/.config/compton.conf -bz

# browser
$nsi i3-msg "workspace 2; append_layout ~/.config/i3/wp2.json"
$nsi firefox
$nsi pavucontrol

# social
$nsi /opt/discord/Discord

## End Startup

## Scripts

# lock
$bsym $mod+Control+Delete $shx $cbp/lock.sh

#scort
$codr $mod+30 $nsi scrot -s $HOME'/screenshots/%Y/%m/%d/%H:%M:%S.png'

# autotyping
$bcod $mod+Control+61 $shx $cbp/discord_link.sh
$bcod $mod+Control+53 $shx $cbp/git_bot.sh

## End Scripts

## Misc.

# font
font pango:Inconsolata 20

# launcher
$bcod $mod+41 $nsi rofi -show run;

# fullscreen mode
$bsym $mod+i fullscreen toggle

# drag floating windows
floating_modifier $mod

# focus parent container
$bsym $mod+a focus parent

# terminal
$bsym $mod+Return $nsi urxvt

# kill focused window
$bsym $mod+Shift+u kill

# toggle tiling/floating
$bsym $mod+Shift+space floating toggle

# change focus between tiling/floating
$bsym $mod+space focus mode_toggle

# split horizontal/vertical orientation
$bsym $mod+w split h
$bsym $mod+v split v

# change container layout
$bsym $mod+c layout tabbed
$bcod $mod+32 layout toggle split

# restart/exit i3
$bsym $mod+Shift+P restart
$bsym $mod+Shift+O $exe "i3-nagbar -t warning -m 'Do you want to exit i3?' -b 'Yes' 'i3-msg exit'"

# gaps
gaps inner 20
gaps outer 20

# change focus
$bsym $mod+h focus left
$bsym $mod+j focus down
$bsym $mod+k focus up
$bsym $mod+l focus right

# move focused window
$bsym $mod+Shift+H move left
$bsym $mod+Shift+J move down
$bsym $mod+Shift+K move up
$bsym $mod+Shift+L move right

# move focused window quicker
$bsym $mod+Control+h move left 50 px
$bsym $mod+Control+j move down 50 px
$bsym $mod+Control+k move up 50 px
$bsym $mod+Control+l move right 50 px

# start programs 
$bsym $mod+F1 $nsi firefox
$bsym $mod+F2 $nsi export _JAVA_OPTIONS=-Duser.home=$HOME/.oldschool/ && praygame
$bsym $mod+F3 $nsi /opt/discord/Discord
$bsym $mod+F4 $nsi java -jar $HOME/.oldschool/clients/runelite.jar
$bsym $mod+F5 $nsi steam

# border/window behavior 
$fwin [class="^.*"] border pixel 3
$fwin [class="Steam" title="(?i)"] floating enable 
$fwin [class="(?i)RuneLite" title="(?i)"] border pixel 2
$fwin [class="(?i)RuneLite" title="(?i)"] floating enable
#$fwin [class="mpv" title="(?i)"] floating enable 
$fwin [class="(?i)pavucontrol"] floating enable

$fwin [window_role="pop-up"] floating enable
$fwin [window_role="bubble"] floating enable
$fwin [window_role="task_dialog"] floating enable
$fwin [window_role="Preferences"] floating enable
$fwin [window_type="dialog"] floating enable
$fwin [window_type="menu"] floating enable

focus_on_window_activation none
no_focus [window_role="(?i)"]

## End Misc.

## Workspaces

# change workspace
$bsym $mod+1 workspace $ws1
$bsym $mod+2 workspace $ws2
$bsym $mod+3 workspace $ws3
$bsym $mod+4 workspace $ws4
$bsym $mod+5 workspace $ws5
$bsym $mod+6 workspace $ws6
$bsym $mod+7 workspace $ws7
$bsym $mod+8 workspace $ws8
$bsym $mod+9 workspace $ws9
$bsym $mod+Tab workspace back_and_forth

# move container to workspace
$bsym $mod+Shift+1 move container to workspace $ws1
$bsym $mod+Shift+2 move container to workspace $ws2
$bsym $mod+Shift+3 move container to workspace $ws3
$bsym $mod+Shift+4 move container to workspace $ws4
$bsym $mod+Shift+5 move container to workspace $ws5
$bsym $mod+Shift+6 move container to workspace $ws6
$bsym $mod+Shift+7 move container to workspace $ws7
$bsym $mod+Shift+8 move container to workspace $ws8
$bsym $mod+Shift+9 move container to workspace $ws9

# assigning to workspaces
#assign [class="(?i)net-runelite-client-RuneLite"] $ws1
assign [class="(?i)firefox"] $ws2
assign [class="(?i)player"]  $ws3
assign [class="(?i)discord"] $ws3
assign [class="(?i)steam"]   $ws4
assign [class="(?i)RocketLeague"] $ws5
## End Workspaces

## Modes/AHK

# enter modes
$bsym $mod+Control+1 mode "jad"
$bsym $mod+Control+2 mode "ahk"
#$bsym $mod+0 mode "ahk"
$bsym $mod+0 mode "alt"
$bsym $mod+Control+3 mode "alt"
$bcod $mod+40 mode "resize"

# wristsavers 
$bsym $mod+Left $nsi xdotool mousemove_relative -- -850 -0
$bsym $mod+Right $nsi xdotool mousemove_relative 850 0
$bsym $mod+Down $nsi xdotool mousemove_relative 0 500
$bsym $mod+Up $nsi xdotool mousemove_relative -- -0 -500

# modes
mode "ahk" {
	# row 4 keys (1, 2, 3)
#	$codr 10 $shx $xdo/right
#	$codr 11 $shx $xdo/menu2
#	$codr 12 $shx $xdo/left
	
	# row 3 keys (' , . P)
	$bcod 24 $shx $xdo/right
	$bcod 25 $shx $xdo/menu4
	$bcod 26 $shx $xdo/left
	$codr 27 $shx $xdo/escape
	#$codr 41 $nsi xdotool key Escape
	
	
	# misc keys
	#$codr 65 $nsi xdotool key 8

	$bcod 49 mode "default"
	$bsym $mod+Control+2 mode "default"
	#$bsym $mod+0 mode "default"
	$bsym $mod+Shift+P restart
}

mode "alt" {
	$codr 41 $nsi xdotool key Escape
	$bcod 38 $shx $xdo/save_wrist
	$codr 39 $nsi xdotool key F10

	$bsym $mod+1 workspace $ws1
	$bsym $mod+2 workspace $ws2
	$bsym $mod+3 workspace $ws3
	$bsym $mod+4 workspace $ws4
	$bsym $mod+5 workspace $ws5
	$bsym $mod+6 workspace $ws6
	$bsym $mod+Tab workspace back_and_forth

	$bcod 49 mode "default"
	$bsym $mod+0 mode "default"
	$bsym $mod+Control+3 mode "default"
	$bsym $mod+Shift+P restart
}

mode "jad" {
	$codr 10 $nsi xdotool key F1
	$codr 11 $shx $xdo/escape
	$codr 12 $nsi xdotool key F5
	$codr 13 $nsi xdotool key F6

	$bcod 49 mode "default"
	$bsym $mod+Control+1 mode "default"
}

mode "resize" {
	$bsym h resize shrink width 10 px or 10 ppt
	$bsym j resize grow height 10 px or 10 ppt
	$bsym k resize shrink height 10 px or 10 ppt
	$bsym l resize grow width 10 px or 10 ppt

	$bsym Control+H resize shrink width 45 px or 45 ppt
	$bsym Control+J resize grow height 45 px or 45 ppt
	$bsym Control+K resize shrink height 45 px or 45 ppt
	$bsym Control+L resize grow width 45 px or 45 ppt

	$bsym Return mode "default"
	$bsym Escape mode "default"
}

## End Modes/AHK
